<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration</title>
    <link rel="preload" as="style" href="https://dev.jspm.io/npm:highlight.js@10.1.2/styles/monokai-sublime.css">
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap">
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=PT+Mono&amp;display=swap">
    <link rel="stylesheet" href="/styles.css">
    <link href="/favicon-32x32.png" rel="icon" type="image/png" sizes="32x32">
    <meta name="description" content="Configuring Lume">
    <meta property="og:image" content="http://localhost/lume.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="http://localhost/">
    <meta name="twitter:title" content="Configuration">
    <meta name="twitter:description" content="Configuring Lume">
    <meta name="twitter:image" content="http://localhost/lume.png">
    <meta name="twitter:creator" content="@misteroom">
    <script src="/js/scripts.js" type="module"></script>
  </head>

  <body class="ly-main">
    
<nav class="navbar ly-navbar">
  <button class="menu-button" type="button" id="menu-button">Menu</button>

  <a href="/" class="logo navbar-logo">
    <img src="/logo.svg" width="64" height="64" alt="Lume logotype">
    <strong class="logo-name">Lume</strong>
    <em class="logo-description">SSG for Deno</em>
  </a>

  <ul class="navbar-links">
    <li class="has-separator not-mobile">
      <a href="">
        </a><a href="https://deno.land/x/lume@v0.22.3/" class="navbar-version">Last version <strong>v0.22.3</strong></a>
      
    </li>

    <li>
      <a href="https://github.com/lumeland/lume">
        <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
      </a>
    </li>
    <li>
      <a href="https://discord.gg/YbTmpACHWB">
        <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg>
      </a>
    </li>
  </ul>
</nav>

<nav class="menu ly-menu scrollbar">
  <ul class="menu-links">
    
    <li>
      <strong>Getting started</strong>
      <ul>
      
        <li>
          
          <a href="/getting-started/overview/" title="About Lume">Overview</a>
          
        </li>
      
        <li>
          
          <a href="/getting-started/installation/" title="Installing Lume">Installation</a>
          
        </li>
      
        <li>
          
          <a href="/getting-started/command-line/" title="Using Lume on the command line">Command line usage</a>
          
        </li>
      
        <li>
          
          <a href="/getting-started/config-file/" aria-current="page" title="Configuring Lume">Configuration</a>
          
        </li>
      
      </ul>
    </li>
    
    <li>
      <strong>Creating pages</strong>
      <ul>
      
        <li>
          
          <a href="/creating-pages/page-files/" title="How Lume will output files based on the sites file structure">Page files</a>
          
        </li>
      
        <li>
          
          <a href="/creating-pages/page-data/" title="Page data with Lume">Page data</a>
          
        </li>
      
        <li>
          
          <a href="/creating-pages/urls/" title="How define the output filename">URLs</a>
          
        </li>
      
        <li>
          
          <a href="/creating-pages/data/" title="Adding special data in the config">Extra data</a>
          
        </li>
      
        <li>
          
          <a href="/creating-pages/shared-data/" title="Creating shared data that can be used between different pages">Shared data</a>
          
        </li>
      
        <li>
          
          <a href="/creating-pages/layouts/" title="Using layouts in Lume">Layouts</a>
          
        </li>
      
        <li>
          
          <a href="/creating-pages/filters/" title="Adding filters in the config file">Filters</a>
          
        </li>
      
        <li>
          
          <a href="/creating-pages/tags/" title="Grouping pages with tags">Tags</a>
          
        </li>
      
        <li>
          
          <a href="/creating-pages/searching/" title="Using the search helper">Search and collecting</a>
          
        </li>
      
        <li>
          
          <a href="/creating-pages/pagination/" title="Pagination in Lume">Pagination</a>
          
        </li>
      
      </ul>
    </li>
    
    <li>
      <strong>Plugins</strong>
      <ul>
      
        <li>
          
          <a href="/plugins/about-plugins/" title="">About plugins</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/attributes/" title="To manage attributes and class names of HTML elements">Attributes</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/base-path/" title="Add automatically a base path to all urls">Base path</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/bundler/" title="Enabling the bundler plugin">Bundler</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/code-highlight/" title="Syntax highlighting">Code Highlight</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/date/" title="To manipulate date &amp; time values in different locales">Date</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/eta/" title="">Eta</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/inline/" title="Using the inline plugin to inline sources">Inline</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/json/" title="Using the JSON plugin to allow using JSON for data">JSON</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/jsx/" title="Using JSX for templates">JSX</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/markdown/" title="Using the Markdown plugin">Markdown</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/modules/" title="Using JS/TS files for data, pages, and layouts">Modules</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/nunjucks/" title="Using Nunjucks for pages and layouts">Nunjucks</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/postcss/" title="Using the PostCSS plugin to transform CSS">PostCSS</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/pug/" title="Using Pug to create pages and layouts">Pug</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/relative-urls/" title="Convert all URLs to relative">Relative URLs</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/svg/" title="Using the SVG plugin to optimize SVG files">SVG</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/search/" title="Using the search plugin to sort pages and directories">Search</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/terser/" title="Using the Terser plugin to minify JS files">Terser</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/url/" title="For URL normalization">URL</a>
          
        </li>
      
        <li>
          
          <a href="/plugins/yaml/" title="Using YAML for data and pages">YAML</a>
          
        </li>
      
      </ul>
    </li>
    
    <li>
      <strong>Advanced</strong>
      <ul>
      
        <li>
          
          <a href="/advanced/custom-configuration/" title="Create your own default configuration">Change default configuration</a>
          
        </li>
      
        <li>
          
          <a href="/advanced/plugins/" title="Creating plugins to extend Lume">Creating plugins</a>
          
        </li>
      
        <li>
          
          <a href="/advanced/processors/" title="A guide on extending Lume with custom processors">Custom processors</a>
          
        </li>
      
        <li>
          
          <a href="/advanced/events/" title="A list of all the events which Lume will dispatch in the lifecycle">Events</a>
          
        </li>
      
        <li>
          
          <a href="/advanced/flags/" title="The different flags that can be passed to the Lume CLI">Flags</a>
          
        </li>
      
        <li>
          
          <a href="/advanced/loaders/" title="Small guide on adding custom loaders to Lume">Loaders and engines</a>
          
        </li>
      
        <li>
          
          <a href="/advanced/multiple-template-engines/" title="Overriding the behavior of a template engine">Multiple template engines</a>
          
        </li>
      
        <li>
          
          <a href="/advanced/render-order/" title="Configure the rendering order of the pages">Render order</a>
          
        </li>
      
        <li>
          
          <a href="/advanced/scripts/" title="A guide on using Lume as a script runner">Scripts</a>
          
        </li>
      
      </ul>
    </li>
    
  </ul>
</nav>

<main class="article ly-content">
  
  <header class="article-header">
    <p>Getting started</p>
    <h1>Configuration</h1>
  </header>
  

  <div class="article-content">
    <p><strong>Lume</strong> processes files based on the file extension. Which file extensions are
processed how is determined by tying the extensions to <strong>template engines</strong> or
<strong>processors</strong>. Some extensions are enabled by default, for example <strong>Markdown</strong>
(<code>*.md</code>) or <strong>Nunjucks</strong> (<code>*.njk</code> or <code>*.html</code>). This means that all <code>*.md</code>,
<code>*.njk</code> and <code>*.html</code> files will be loaded, processed and saved as <code>*.html</code>
files.</p>
<p>You can customize this by adding a <code>_config.js</code> file, which adds to or overrides
the default options; for example, to use a different template engine or to
process different file types with other extensions. Although you can code this
in the config file, for convenience, <strong>Lume</strong> includes <strong>plugins</strong> for common
transformations, such as Markdown and Nunjucks.</p>
<p>The config file must be placed in the site's root directory, which you can
create yourself or with the following command:</p>
<pre><code class="language-sh hljs language-bash">lume init
</code></pre>
<p>The <code>_config.js</code> file is a JavaScript module that exports a Lume instance. The
minimal required code is:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> lume <span class="hljs-keyword">from</span> <span class="hljs-string">"lume/mod.js"</span>;

<span class="hljs-keyword">const</span> site = <span class="hljs-title function_">lume</span>();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> site;
</code></pre>
<p>You can pass an object with configuration data to your site. This is an example
with the default values:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> lume <span class="hljs-keyword">from</span> <span class="hljs-string">"lume/mod.js"</span>;

<span class="hljs-keyword">const</span> site = <span class="hljs-title function_">lume</span>({
  <span class="hljs-comment">// The "src" and "dest" directories are relative to this path.</span>
  <span class="hljs-attr">cwd</span>: <span class="hljs-title class_">Deno</span>.<span class="hljs-title function_">cwd</span>(),

  <span class="hljs-comment">// The source directory of your site.</span>
  <span class="hljs-comment">// You can override the value from the CLI with `--src=new-value`.</span>
  <span class="hljs-attr">src</span>: <span class="hljs-string">"."</span>,

  <span class="hljs-comment">// The output destination of the site.</span>
  <span class="hljs-comment">// You can override the value from the CLI with `--dest=new-value`.</span>
  <span class="hljs-comment">// This directory will be cleared before building.</span>
  <span class="hljs-attr">dest</span>: <span class="hljs-string">"_site"</span>,

  <span class="hljs-comment">// The base location where the site will be published.</span>
  <span class="hljs-comment">// Useful to generate absolute URLs or if your site is published in a subdirectory.</span>
  <span class="hljs-comment">// For example: https://username.github.io/project-name/</span>
  <span class="hljs-comment">// You can override the value from the CLI with `--location=new-value`.</span>
  <span class="hljs-attr">location</span>: <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(<span class="hljs-string">"http://localhost"</span>),

  <span class="hljs-comment">// Set `true` to build the site in development mode.</span>
  <span class="hljs-comment">// You can override the value from the CLI with `--dev`.</span>
  <span class="hljs-attr">dev</span>: <span class="hljs-literal">false</span>

  <span class="hljs-comment">// To generate pretty URLs, for example `/about-us/` instead of `/about-us.html`.</span>
  <span class="hljs-comment">// Set `false` to disable it.</span>
  <span class="hljs-attr">prettyUrls</span>: <span class="hljs-literal">true</span>,

  <span class="hljs-comment">// To automatically slugify all URLs.</span>
  <span class="hljs-comment">// For example, the file `/About Us.md` is converted to `/about-us/` instead of `/About Us/`.</span>
  <span class="hljs-comment">// Set `false` to disable it.</span>
  <span class="hljs-attr">slugifyUrls</span>: {
    <span class="hljs-attr">lowercase</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">alphanumeric</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">separator</span>: <span class="hljs-string">"-"</span>,
    <span class="hljs-attr">replace</span>: {
      <span class="hljs-string">"Ð"</span>: <span class="hljs-string">"D"</span>, <span class="hljs-comment">// eth</span>
      <span class="hljs-string">"ð"</span>: <span class="hljs-string">"d"</span>,
      <span class="hljs-string">"Đ"</span>: <span class="hljs-string">"D"</span>, <span class="hljs-comment">// crossed D</span>
      <span class="hljs-string">"đ"</span>: <span class="hljs-string">"d"</span>,
      <span class="hljs-string">"ø"</span>: <span class="hljs-string">"o"</span>,
      <span class="hljs-string">"ß"</span>: <span class="hljs-string">"ss"</span>,
      <span class="hljs-string">"æ"</span>: <span class="hljs-string">"ae"</span>,
      <span class="hljs-string">"œ"</span>: <span class="hljs-string">"oe"</span>,
    },
  },

  <span class="hljs-comment">// Local server configuration</span>
  <span class="hljs-attr">server</span>: {
    <span class="hljs-comment">// You can override the value from the CLI with `--port`.</span>
    <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span>,

    <span class="hljs-comment">// The HTML page to display for 404 errors.</span>
    <span class="hljs-comment">// You can use, for example, "/index.html" if you are building a web app with dynamic URLs.</span>
    <span class="hljs-attr">page404</span>: <span class="hljs-string">"/404.html"</span>,

    <span class="hljs-comment">// To automatically open the site in the browser.</span>
    <span class="hljs-attr">open</span>: <span class="hljs-literal">false</span>,
  }
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> site;
</code></pre>
<h2>Installing plugins</h2>
<p>As stated above, plugins add extra functionality or support for new formats.
There are some basic plugins installed by default (like support for <code>markdown</code>,
<code>yaml</code> or <code>json</code> formats), but there are other plugins that you can enable. For
example, to add the <code>svg</code> plugin (that optimizes SVG files), you have to import
the plugin and enable it with <code>use()</code> in the config file:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-keyword">import</span> lume <span class="hljs-keyword">from</span> <span class="hljs-string">"lume/mod.js"</span>;
<span class="hljs-keyword">import</span> svg <span class="hljs-keyword">from</span> <span class="hljs-string">"lume/plugins/svg.js"</span>;

<span class="hljs-keyword">const</span> site = <span class="hljs-title function_">lume</span>();

<span class="hljs-comment">// Add svg plugin</span>
site.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">svg</span>());

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> site;
</code></pre>
<p>For convenience, the command <code>lume init</code> accepts also the <code>--plugins</code> argument
that automatically create the code to install and register a plugin. For
example, to create a config file including the <code>postcss</code> and <code>svg</code> plugins:</p>
<pre><code class="language-sh hljs language-bash">lume init --plugins=postcss,svg
</code></pre>
<h2>Copy static files</h2>
<p>Static files are files that don't have to be processed, like images, PDFs,
videos or audios. So it's better (and faster) to copy these files directly to
dest directory with the <code>copy</code> method:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-comment">// Copy the "img" directory to _site/img</span>
site.<span class="hljs-title function_">copy</span>(<span class="hljs-string">"img"</span>);

<span class="hljs-comment">// Copy the file to _site/favicon.ico</span>
site.<span class="hljs-title function_">copy</span>(<span class="hljs-string">"favicon.ico"</span>);
</code></pre>
<p>The path is relative to the root of the source directory and the files and
directories are copied as is, maintaining the same directory structure. If you
want to change the output directory, use the second parameter:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-comment">// Copy the "img" directory to _site/images</span>
site.<span class="hljs-title function_">copy</span>(<span class="hljs-string">"img"</span>, <span class="hljs-string">"images"</span>);

<span class="hljs-comment">// Copy the "static-files/favicons/favicon.ico" to _site/favicon.ico</span>
site.<span class="hljs-title function_">copy</span>(<span class="hljs-string">"static-files/favicons/favicon.ico"</span>, <span class="hljs-string">"favicon.ico"</span>);
</code></pre>
<h2>Ignore files and directories</h2>
<p>By default, all files and directories starting with <code>.</code> or <code>_</code> are ignored. You
can add more by using the <code>ignore()</code> method:</p>
<pre><code class="language-js hljs language-javascript">site.<span class="hljs-title function_">ignore</span>(<span class="hljs-string">"README.md"</span>, <span class="hljs-string">"CHANGELOG.md"</span>, <span class="hljs-string">"node_modules"</span>);
</code></pre>
<p>Note: the <code>node_modules</code> directory is ignored by default too.</p>
<h2>Template filters</h2>
<p>Template filters are functions that you can use in your layouts to modify
content. Some template engines, like Nunjucks,
<a href="https://mozilla.github.io/nunjucks/templating.html#builtin-filters">have several builtin filters</a>,
but you can add your own:</p>
<pre><code class="language-js hljs language-javascript"><span class="hljs-comment">// Filter to convert a string to uppercase</span>
site.<span class="hljs-title function_">filter</span>(<span class="hljs-string">"uppercase"</span>, <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> value.<span class="hljs-title function_">toUpperCase</span>());
</code></pre>
<p>Now, use it in your Nunjucks templates:</p>
<pre><code class="language-html hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ title | uppercase }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</code></pre>
<p>If your filter is asynchronous, set <code>true</code> as the third argument:</p>
<pre><code class="language-js hljs language-javascript">site.<span class="hljs-title function_">filter</span>(<span class="hljs-string">"async_filter"</span>, <span class="hljs-keyword">async</span> (value) =&gt; value, <span class="hljs-literal">true</span>);
</code></pre>
<p>Note that not all template engines support async filters.</p>

  </div>

</main>

<footer class="footer ly-footer">
  <ul class="footer-pagination">
    <li>
      ← Previous <a href="/getting-started/command-line/" rel="prev">Command line usage</a>
    </li>
    
    <li>
      Next → <a href="/creating-pages/page-files/" rel="next">Page files</a>
    </li>
    
  </ul>

  <p class="footer-credits">
    Created by <a href="https://twitter.com/misteroom">Oscar Otero</a> - 
    <a href="https://github.com/lumeland/lumeland.github.io/edit/master/getting-started/config-file.md">Edit this page</a>
  </p>
</footer>

  

</body></html>